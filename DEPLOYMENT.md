# GrantWise AI - Render Deployment Guide

## üöÄ Quick Deploy to Render

### Option 1: Deploy via Dashboard (Recommended)

1. **Push to GitHub**
   ```bash
   git init
   git add .
   git commit -m "Initial commit - GrantWise AI"
   git branch -M main
   git remote add origin https://github.com/YOUR_USERNAME/grantwise-ai.git
   git push -u origin main
   ```

2. **Create Render Account**
   - Go to https://render.com
   - Sign up with GitHub

3. **Create New Web Service**
   - Click "New +" ‚Üí "Web Service"
   - Connect your GitHub repository
   - Render will auto-detect the `render.yaml` configuration

4. **Set Environment Variables**
   - `OPENAI_API_KEY` - Your OpenAI API key (required)
   - `SESSION_SECRET` - Auto-generated by Render
   - `MONGODB_URI` - Your MongoDB connection string (optional for now)
   - `NODE_ENV` - Set to `production`

5. **Deploy!**
   - Click "Create Web Service"
   - Render will build and deploy automatically
   - Your app will be live at: `https://grantwise-ai.onrender.com`

---

### Option 2: Deploy via Blueprint (Automated)

1. **Push code to GitHub** (same as above)

2. **Click this button** (after pushing to GitHub):
   
   [![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy)

3. **Render will:**
   - Read `render.yaml`
   - Create the web service
   - Set up environment variables
   - Deploy automatically

---

## üìã Pre-Deployment Checklist

### ‚úÖ Required Environment Variables

Set these in Render Dashboard ‚Üí Environment:

```env
# Required
OPENAI_API_KEY=sk-your-openai-key-here
SESSION_SECRET=auto-generated-by-render

# Optional (for Phase 4)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/grantwise
STRIPE_SECRET_KEY=sk_live_your-stripe-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-key
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-secret
```

### ‚úÖ Database Setup (Optional)

**Option A: MongoDB Atlas (Recommended - Free)**
1. Go to https://www.mongodb.com/cloud/atlas
2. Create free cluster
3. Get connection string
4. Add to Render as `MONGODB_URI`

**Option B: Render PostgreSQL (if switching from MongoDB)**
1. In Render Dashboard ‚Üí New ‚Üí PostgreSQL
2. Copy internal connection string
3. Update code to use PostgreSQL instead

**Option C: No Database (Current Setup)**
- App works without database
- Uses sessions (in-memory)
- ‚ö†Ô∏è Sessions reset on restart

---

## üîß Render Configuration Details

### Build Settings
- **Build Command:** `npm install`
- **Start Command:** `npm start`
- **Node Version:** 18+ (specified in package.json)

### Auto-Deploy
- ‚úÖ Enabled by default
- Deploys on every `git push` to main branch

### Health Checks
- **Path:** `/`
- **Interval:** 30 seconds
- **Timeout:** 10 seconds

### Free Tier Limits
- ‚úÖ 750 hours/month (enough for 24/7)
- ‚ö†Ô∏è Spins down after 15 min of inactivity
- ‚ö†Ô∏è First request after spin-down takes ~30 seconds
- ‚úÖ 100 GB bandwidth/month

---

## üåê Custom Domain (Optional)

1. **In Render Dashboard:**
   - Go to your service ‚Üí Settings ‚Üí Custom Domain
   - Add your domain: `grantwise.ai`

2. **In your DNS provider:**
   - Add CNAME record:
     ```
     CNAME  www  grantwise-ai.onrender.com
     ```

3. **SSL Certificate:**
   - Render provides free SSL automatically
   - No configuration needed

---

## üìä Monitoring & Logs

### View Logs
```bash
# In Render Dashboard ‚Üí Logs tab
# Or use Render CLI:
render logs -f
```

### Metrics
- CPU usage
- Memory usage
- Request count
- Response times
- Available in Dashboard ‚Üí Metrics

---

## üîÑ Continuous Deployment

Every time you push to GitHub:
```bash
git add .
git commit -m "Add new feature"
git push
```

Render will automatically:
1. Pull latest code
2. Run `npm install`
3. Run `npm start`
4. Deploy new version
5. Zero-downtime deployment

---

## üêõ Troubleshooting

### App won't start
- Check logs in Render Dashboard
- Verify environment variables are set
- Ensure `OPENAI_API_KEY` is valid

### Database connection fails
- Check `MONGODB_URI` format
- Whitelist Render's IP in MongoDB Atlas:
  - Go to Network Access ‚Üí Add IP ‚Üí Allow from Anywhere (0.0.0.0/0)

### Slow first request
- This is normal on free tier (cold start)
- Upgrade to paid plan ($7/month) for always-on

### Build fails
- Check Node version compatibility
- Run `npm install` locally first
- Check for missing dependencies

---

## üí∞ Pricing

### Free Tier (Current)
- ‚úÖ Perfect for development/testing
- ‚úÖ 750 hours/month
- ‚ö†Ô∏è Spins down after inactivity

### Starter Plan ($7/month)
- ‚úÖ Always on (no spin down)
- ‚úÖ Faster builds
- ‚úÖ Better for production

### Pro Plan ($25/month)
- ‚úÖ More resources
- ‚úÖ Priority support
- ‚úÖ Advanced metrics

---

## üöÄ Next Steps After Deployment

1. **Test the live app:**
   - Visit `https://grantwise-ai.onrender.com`
   - Generate a test proposal
   - Test all export features

2. **Set up monitoring:**
   - Add error tracking (Sentry)
   - Set up uptime monitoring (UptimeRobot)

3. **Configure custom domain:**
   - Buy domain (Namecheap, Google Domains)
   - Point to Render

4. **Enable HTTPS:**
   - Automatic with Render
   - Force HTTPS in production

5. **Add database:**
   - MongoDB Atlas (free tier)
   - Enable user authentication

---

## üìù Deployment Commands

```bash
# Initial setup
git init
git add .
git commit -m "Initial commit"
git remote add origin YOUR_REPO_URL
git push -u origin main

# Future updates
git add .
git commit -m "Update: description"
git push

# View deployment status
# (In Render Dashboard or CLI)
render services list
render logs -f
```

---

## ‚úÖ Ready to Deploy?

Your app is **100% ready** for Render deployment! Just:

1. Push to GitHub
2. Connect to Render
3. Add `OPENAI_API_KEY`
4. Deploy!

**Estimated deployment time:** 3-5 minutes

Need help with any step? Let me know!
